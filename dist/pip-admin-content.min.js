!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;(t=(t=(t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pip||(t.pip={})).admin||(t.admin={})).content=e()}}(function(){return function l(s,a,p){function c(t,e){if(!a[t]){if(!s[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(r)return r(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[t]={exports:{}};s[t][0].call(o.exports,function(e){return c(s[t][1][e]||e)},o,o.exports,l,s,a,p)}return a[t].exports}for(var r="function"==typeof require&&require,e=0;e<p.length;e++)c(p[e]);return c}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=(o.$inject=["params","$mdDialog","$rootScope","pipFileUpload","pipRest"],o.prototype.onOk=function(){var i=this;if(this.edit)this.$mdDialog.hide(this.blob);else{if(null==this.localBlob)return;var e=this.pipRest.serverUrl+"/api/1.0/blobs";this.pipFileUpload.upload(this.localBlob,e,function(e,t){t||i.$mdDialog.hide(e)})}},o.prototype.onCancel=function(){this.$mdDialog.cancel()},o.prototype.filterBlobsCollections=function(t){var i=[];return _.each(this.blobsCollections,function(e){-1<e.toLowerCase().indexOf(t.toLowerCase())&&i.push(e)}),i},o);function o(e,t,i,n,o){var l=this;this.pipFileUpload=n,this.pipRest=o,this.$mdDialog=t,this.theme=i.$theme,this.blob=e.blob||{},this.errorCallback=e.errorCallback,this.callback=e.callback,this.blobsCollections=e.blobsCollection,e.blob&&(this.edit=!0),this.cancel=function(){l.onCancel()},this.retry=function(){l.onOk()},this.setBlob=function(e){l.localBlob=e}}i.AddBlobDialogController=n,angular.module("pipAddBlobsDialog",["ngMaterial","pipFiles","pipFiles.Templates"]).controller("pipAddBlobDialogController",n),e("./AddBlobsService")},{"./AddBlobsService":2}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=(o.$inject=["$mdDialog"],o.prototype.show=function(e,t,i){this._mdDialog.show({targetEvent:e.event,templateUrl:"blobs/AddBlobsDialog.html",controller:"pipAddBlobDialogController",controllerAs:"vm",locals:{params:e},clickOutsideToClose:!0}).then(function(e){t&&t(e)},function(){i&&i()})},o);function o(e){this._mdDialog=e}angular.module("pipAddBlobsDialog").service("pipAddBlobsDialog",n)},{}],3:[function(e,t,i){l.$inject=["$injector","$stateProvider"];var n=(o.$inject=["$window","$scope","$state","$rootScope","$mdMedia","$injector","pipNavService"],o.prototype.appHeader=function(){this.pipNavService.appbar.parts={logo:!1,icon:!1,title:"breadcrumb"},this.pipNavService.appbar.addShadow(),this.pipNavService.icon.showMenu(),this.pipNavService.breadcrumb.text="Blobs",this.pipNavService.actions.hide()},o.prototype.onRetry=function(){this.$window.history.back()},o);function o(e,t,i,n,o,l,s){this.$window=e,this.pipNavService=s;l.has("pipMedia")&&l.get("pipMedia");this.appHeader()}function l(e,t){t.state("blobs",{url:"/blobs",controller:n,auth:!1,controllerAs:"$ctrl",templateUrl:"blobs/BlobsPage.html"})}angular.module("pipBlobsPage",["pipNav"]).config(l)},{}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var m=function(){};m.Progress="progress",m.Data="data",m.Empty="empty";var n={},o=(l.$inject=["$window","$location","$scope","pipNavService","pipTransaction","$log","pipConfirmationDialog","pipAddBlobsDialog","pipToasts","$state","pipBlobsData","pipMedia"],l.prototype.readBlobs=function(){var t=this;this.pipBlobsData.readBlobs(null,0,100,function(e){t.blobs=e.data,console.log(t.blobs,e),t.state=m.Data})},l.prototype.addBlob=function(){var t=this;this.pipAddBlobsDialog.show({},function(e){t.blobs.push(e)})},l);function l(e,t,i,n,o,l,s,a,p,c,r,d){this.$location=t,this.pipConfirmationDialog=s,this.pipAddBlobsDialog=a,this.pipToasts=p,this.$state=c,this.pipBlobsData=r,this.pipMedia=d,this._start=0,this.error=null,this.search=null,this.transaction=o.create("blobs"),this.state=m.Progress,this.readBlobs()}angular.module("pipBlobsPanel",["pipLists","pipBehaviors","pipButtons"]).component("pipBlobsPanel",{bindings:n,templateUrl:"blobs/BlobsPanel.html",controller:o})},{}],5:[function(e,t,i){},{}],6:[function(e,t,i){var n=(o.$inject=["$element","$attrs","$scope","$timeout"],o.prototype.isDisable=function(){return this.ngDisable=this._scope.ngDisabled?this._scope.ngDisabled:null,_.isFunction(this.ngDisable)&&this.ngDisable()},o.prototype.onSearch=function(){var e=this;this.isDisable()||(this._scope.search=this.localSearch,this._timeout(function(){_.isFunction(e.pipOnSearch)&&e.pipOnSearch()},200))},o.prototype.onClear=function(){this.isDisable()||(this.localSearch=null,this.onSearch())},o);function o(e,t,i,n){var o=this;this.onKeyPress=function(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),this.onSearch())},e.addClass("pip-search-row"),e.addClass("flex"),this._element=e,this._scope=i,this._timeout=n,this.pipOnSearch=i.onSearch?i.onSearch:null,i.$watch("search",function(e){e!=o.localSearch&&(o.localSearch=e)})}angular.module("pipDirective",[]).directive("pipSearchRow",function(){return{restrict:"E",controller:n,controllerAs:"searchRow",scope:{search:"=pipSearch",onSearch:"&pipOnSearch",ngDisabled:"&"},templateUrl:"common/search/SearchRow.html"}})},{}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=(o.$inject=["$stateParams","pipRest","pipSession"],o.prototype.readBlobs=function(e,t,i,n,o){return void 0===t&&(t=0),void 0===i&&(i=100),(e=e||{}).skip=t,e.total=!0,e.take=i,this.pipRest.getResource("blobs").get(e,function(e){n&&n(e)},function(e){o&&o(e)})},o.prototype.updateBlob=function(e,t,i,n){return this.pipRest.getResource("blobs").update({blob_id:e},t,function(e){i&&i(e)},function(e){n&&n(e)})},o.prototype.createBlob=function(e,t,i){return this.pipRest.getResource("blobs").save(e,function(e){t&&t(e)},function(e){i&&i(e)})},o.prototype.deleteBlobById=function(e,t,i){return this.pipRest.getResource("blobs").delete({blob_id:e},function(e){t&&t(e)},function(e){i&&i(e)})},o);function o(e,t,i){this.$stateParams=e,this.pipRest=t,this.pipSession=i,this.RESOURCE="blobs"}var l=(s.prototype.$get=["$stateParams","pipRest","pipSession",function(e,t,i){return null==this._service&&(this._service=new n(e,t,i)),this._service}],s);function s(){this.RESOURCE="blobs"}angular.module("pipBlobsData",["pipRest"]).provider("pipBlobsData",l)},{}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});function n(){}i.File=n},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});function n(){}i.FileInfoDataPage=n},{}],10:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=(o.$inject=["$stateParams","pipRest","pipSession"],o.prototype.readFiles=function(e,t,i,n,o){return void 0===t&&(t=0),void 0===i&&(i=100),(e=e||{}).skip=t,e.total=!0,e.take=i,this.pipRest.getResource("files").get(e,function(e){n&&n(e)},function(e){o&&o(e)})},o.prototype.readFilesGroups=function(t,i){return this.pipRest.getResource("files_groups").get(null,function(e){t&&t(e.data)},function(e){i&&i(e)})},o.prototype.updateFile=function(e,t,i,n){return this.pipRest.getResource("files").update({file_id:e},t,function(e){i&&i(e)},function(e){n&&n(e)})},o.prototype.createFile=function(e,t,i){return this.pipRest.getResource("files").save(e,function(e){t&&t(e)},function(e){i&&i(e)})},o.prototype.deleteFileById=function(e,t,i){return this.pipRest.getResource("files").delete({file_id:e},function(e){t&&t(e)},function(e){i&&i(e)})},o);function o(e,t,i){this.$stateParams=e,this.pipRest=t,this.pipSession=i,this.RESOURCE="files"}var l=(s.prototype.$get=["$stateParams","pipRest","pipSession",function(e,t,i){return null==this._service&&(this._service=new n(e,t,i)),this._service}],s);function s(){this.RESOURCE="files"}angular.module("pipFilesData",["pipRest"]).provider("pipFilesData",l)},{}],11:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},{}],12:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},{}],13:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});function n(){}i.FileDialogData=n;var o=(l.$inject=["params","$mdDialog","$rootScope","pipFileUpload","pipRest"],l.prototype.onOk=function(){var i=this;if(this.edit)this.$mdDialog.hide(this.file);else{if(null==this.localFile)return;var e=this.pipRest.serverUrl+"/api/1.0/blobs";this.pipFileUpload.upload(this.localFile,e,function(e,t){console.log(e),e.description=i.file.description,e.collection=i.file.Collection,t||i.$mdDialog.hide(e)})}},l.prototype.onCancel=function(){this.$mdDialog.cancel()},l.prototype.filterFilesCollections=function(t){var i=[];return _.each(this.filesCollections,function(e){-1<e.toLowerCase().indexOf(t.toLowerCase())&&i.push(e)}),i},l);function l(e,t,i,n,o){var l=this;this.pipFileUpload=n,this.pipRest=o,this.$mdDialog=t,this.theme=i.$theme,this.file=e.file||{},this.errorCallback=e.errorCallback,this.callback=e.callback,this.filesCollections=e.filesCollection,e.file&&(this.edit=!0),this.cancel=function(){l.onCancel()},this.retry=function(){l.onOk()},this.setFile=function(e){l.localFile=e}}i.AddFileDialogController=o,angular.module("pipAddFileDialog",["ngMaterial","pipFiles","pipFiles.Templates"]).controller("pipAddFileDialogController",o),e("./AddFilesService")},{"./AddFilesService":14}],14:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=(o.$inject=["$mdDialog"],o.prototype.show=function(e,t,i){this._mdDialog.show({targetEvent:e.event,templateUrl:"files/AddFilesDialog.html",controller:"pipAddFileDialogController",controllerAs:"vm",locals:{params:e},clickOutsideToClose:!0}).then(function(e){t&&t(e)},function(){i&&i()})},o);function o(e){this._mdDialog=e}angular.module("pipAddFileDialog").service("pipAddFileDialog",n)},{}],15:[function(e,t,i){l.$inject=["$injector","$stateProvider"];var n=(o.$inject=["$window","$scope","$state","$rootScope","$mdMedia","$injector","pipNavService"],o.prototype.appHeader=function(){this.pipNavService.appbar.parts={logo:!1,icon:!1,title:"breadcrumb"},this.pipNavService.appbar.addShadow(),this.pipNavService.icon.showMenu(),this.pipNavService.breadcrumb.text="Files",this.pipNavService.actions.hide()},o.prototype.onRetry=function(){this.$window.history.back()},o);function o(e,t,i,n,o,l,s){this.$window=e,this.pipNavService=s;l.has("pipMedia")&&l.get("pipMedia");this.appHeader()}function l(e,t){t.state("files",{url:"/files",controller:n,auth:!1,controllerAs:"$ctrl",templateUrl:"files/FilesPage.html"})}angular.module("pipFilesPage",["pipNav"]).config(l)},{}],16:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("../data/FileInfo"),u=function(){};u.Progress="progress",u.Data="data",u.Empty="empty";var o={},l=(s.$inject=["$window","$location","$scope","pipNavService","pipTransaction","$log","pipConfirmationDialog","pipAddFileDialog","pipToasts","$state","pipFilesData","pipMedia"],s.prototype.readFiles=function(){var t=this;this.transaction.begin("Reading files"),this.transaction.end(),this.pipFilesData.readFilesGroups(function(e){t.filesSections=e,t.onFilesRead(t.filesSections),t.state=u.Data})},s.prototype.selectItem=function(e){this.search=this.files[this.selectIndex]?this.files[this.selectIndex].Search:null,this.selectIndex=e,this.$location.search("section",this.filesSections[e])},s.prototype.onSearch=function(){this.state=u.Progress,this.files[this.selectIndex]={},this.files[this.selectIndex].Search=this.search,this.readFilesInSection(this.filesSections[this.selectIndex],this.selectIndex)},s.prototype.clear=function(){this.search=null,this.onSearch()},s.prototype.addFile=function(){var t=this;this.pipAddFileDialog.show({},function(e){t.saveNewFile(e)})},s.prototype.saveNewFile=function(e){var t=this;this.transaction.begin("add new file");var i=new n.File;i.thumbnail_id=e.id,i.content_id=e.id,i.name=e.name,i.description=e.description,i.group=e.collection,this.pipFilesData.createFile(i,function(e){t.saveNewFileCallback(e)}),this.transaction.begin("add new file")},s.prototype.contentType=function(e,t){try{JSON.parse(t.content)}catch(e){}},s.prototype.saveNewFileError=function(e){this.transaction.end(e.data||e),this.pipToasts.showError("File don't create from server! "+e,null,null,null,null)},s.prototype.openDeleteDialog=function(e,t){var i=this;this.pipConfirmationDialog.show({event:event,title:"Delete file?",ok:"Delete",cancel:"Cancel"},function(){i.deleteFile(e,t)},function(){console.log("You disagreed")})},s.prototype.deleteFile=function(t,i){var n=this;this.transaction.begin("delete"),this.pipFilesData.deleteFileById(t.id,function(){_.remove(n.files[i].Items,{id:t.id}),i>=n.files[i].length-1&&(n.selectIndex=0),0==n.files[i].Items.length&&(_.remove(n.filesSections,function(e){return t.group==e}),_.remove(n.files,function(e,t){return t==i}),0==n.files[i].length&&(n.state=u.Empty)),n.transaction.end()},function(e){n.deleteFileError(e)})},s.prototype.deleteFileError=function(e){this.transaction.end(),this.pipToasts.showError("File don't delete from server! "+e,null,null,null,null)},s.prototype.updateFile=function(t){var i=this;this.pipAddFileDialog.show({file:{fileName:t.name,description:t.description}},function(e){i.updateFileItem(e,t)})},s.prototype.updateFileItem=function(e,t){_.cloneDeep(t).description=e.description},s.prototype.updateFileError=function(e){this.transaction.end(),this.pipToasts.showError("File don't update from server! "+e,null,null,null,null)},s.prototype.saveNewFileCallback=function(t){var e=_.findIndex(this.filesSections,function(e){return e==t.group});-1!=e?(this.files[e].Items.push(t),this.selectIndex=e):(this.filesSections.push(t.group),this.files?(this.files[e].push({Start:0,Items:[t]}),this.selectIndex=this.files[e].length-1):(this.files=[{Start:0,Items:[t]}],this.selectIndex=0)),this.transaction.end()},s.prototype.filter=function(e){var t={};return t.Collection=e,this.search&&(t.Search=this.search),t},s.prototype.onFilesRead=function(e){var i=this;this.filesSections=e,this.files=[],_.each(this.filesSections,function(e,t){i.readFilesInSection(e,t)})},s.prototype.readFilesInSection=function(e,i){var n=this;e===this.$location.search().section&&(this.selectIndex=i),this.files[i]||(this.files[i]={Start:0}),this.files[i].Items||(this.files[i].Items=[]),this.pipFilesData.readFiles({group:e,search:this.files[this.selectIndex]?this.files[this.selectIndex].Search:null},this.files[i].Start||0,100,function(e){var t=n.files[i].Start||0;0<e.data.length||0!==t&&0<n.files[i].Items.length?(n.state=u.Data,_.each(e.data,function(e){e.ext=_.split(e.name,".")[_.split(e.name,".").length-1],n.files[i].Items[t]?n.files[i].Items[t]=e:n.files[i].Items.push(e),t++}),n.files[i].Start+=e.data.length):n.state=u.Empty,n.transaction.end()},function(e){n.readFilesError(e)})},s.prototype.readFilesError=function(e){this.transaction.end(e),this.pipToasts.showError("Reading files have errors on server! "+e,null,null,null,null)},s.prototype.onError=function(e){this.error=e,this.transaction.end(e)},s.prototype.download=function(e){},s.prototype.configNavBack=function(){},s);function s(e,t,i,n,o,l,s,a,p,c,r,d){var m=this;this.$location=t,this.pipConfirmationDialog=s,this.pipAddFileDialog=a,this.pipToasts=p,this.$state=c,this.pipFilesData=r,this.pipMedia=d,this._start=0,this.error=null,this.search=null,this.transaction=o.create("files"),this.state=u.Progress,this.readFiles(),this.selectIndex=t.search().section||0,this.getSelectDropdown=function(){m.selectItem(m.selectIndex)}}angular.module("pipFilesPanel",["pipLists","pipBehaviors","pipButtons"]).component("pipFilesPanel",{bindings:o,templateUrl:"files/FilesPanel.html",controller:l})},{"../data/FileInfo":8}],17:[function(e,t,i){!function(){"use strict";angular.module("pipContent",["pipDirective","pipFilesResources","pipFilesData","pipAddFileDialog","pipFilesPanel","pipFilesPage","pipBlobsResources","pipBlobsData","pipAddBlobsDialog","pipBlobsPanel","pipBlobsPage"])}()},{}],18:[function(e,t,i){function n(e){e.registerPagedCollection("blobs","/api/v1/blobs/:blob_id",{blob_id:"@blob_id"},{page:{method:"GET",isArray:!1},update:{method:"PUT"}})}n.$inject=["pipRestProvider"],angular.module("pipBlobsResources",[]).config(n)},{}],19:[function(e,t,i){function n(e){e.registerPagedCollection("files","/api/v1/files/:file_id",{file_id:"@file_id"},{page:{method:"GET",isArray:!1},update:{method:"PUT"}}),e.registerPagedCollection("files_groups","/api/v1/files/groups")}n.$inject=["pipRestProvider"],angular.module("pipFilesResources",[]).config(n)},{}],20:[function(e,t,i){!function(t){try{t=angular.module("pipAdminContent.Templates")}catch(e){t=angular.module("pipAdminContent.Templates",[])}t.run(["$templateCache",function(e){e.put("blobs/AddBlobsDialog.html",'<md-dialog class="pip-dialog layout-column bb-add-blob" width="400" md-theme="{{vm.theme}}"><div class="pip-body p24-flex pip-scroll" ng-if="!vm.globalProgress()"><h3 class="tm0" ng-if="!vm.edit">New blob</h3><h3 class="tm0" ng-if="vm.edit">Edit blob</h3><div ng-show="!vm.edit"><pip-file-select pip-change="vm.setBlob" pip-local-file="vm.localBlob"></pip-file-select></div></div><div class="pip-footer" ng-if="!vm.globalProgress()"><div><md-button class="md-accent" ng-click="vm.onCancel()">Cancel</md-button><md-button class="md-accent" ng-click="vm.onOk()">Upload</md-button></div></div><pip-file-progress ng-if="vm.globalProgress()" pip-cancel="vm.cancel" pip-retry="vm.retry" pip-name="vm.localBlob.name"></pip-file-progress></md-dialog>')}])}(),function(t){try{t=angular.module("pipAdminContent.Templates")}catch(e){t=angular.module("pipAdminContent.Templates",[])}t.run(["$templateCache",function(e){e.put("blobs/BlobsPage.html","<pip-blobs-panel></pip-blobs-panel>")}])}(),function(t){try{t=angular.module("pipAdminContent.Templates")}catch(e){t=angular.module("pipAdminContent.Templates",[])}t.run(["$templateCache",function(e){e.put("blobs/BlobsPanel.html",'<pip-document><md-button class="md-fab md-accent md-fab-bottom-right" style="z-index: 55" ng-if="$ctrl.state != \'progress\'" ng-disabled="$ctrl.transaction.busy()" aria-label="add" ng-click="$ctrl.addBlob()"><md-icon md-svg-icon="icons:plus"></md-icon></md-button><div class="pip-body p0"><md-list class="pip-ref-list tp0" ng-if="$ctrl.state == \'data\'"><md-list-item class="pip-ref-list-item divider-bottom" md-ink-ripple="" ng-repeat="blob in $ctrl.blobs"><div class="pip-pic flex-fixed lm16 layout-row layout-align-center-center"></div><div class="pip-content flex"><div class="text-body2 text-overflow">{{blob.name}} <span ng-if="blob.size">•</span> {{blob.size}}</div><p class="pip-subtitle pip-blob-message">{{blob.content_type}}</p></div><div class="pip-pic rm0"><md-button class="md-icon-button flex-fixed" ng-if="blob.Error" ng-click="$ctrl.onErrorDetails(blob)" aria-label="error"><md-icon md-svg-icon="icons:search"></md-icon></md-button></div></md-list-item></md-list></div></pip-document>')}])}(),function(t){try{t=angular.module("pipAdminContent.Templates")}catch(e){t=angular.module("pipAdminContent.Templates",[])}t.run(["$templateCache",function(e){e.put("files/AddFilesDialog.html",'<md-dialog class="pip-dialog layout-column bb-add-file" width="400" md-theme="{{vm.theme}}"><div class="pip-body p24-flex pip-scroll" ng-if="!vm.globalProgress()"><h3 class="tm0" ng-if="!vm.edit">New file</h3><h3 class="tm0" ng-if="vm.edit">Edit file</h3><md-autocomplete flex="" required="" class="bm0" md-input-name="autocompleteField" md-search-text="vm.file.Collection" md-items="item in vm.filterFilesCollections(vm.file.Collection)" md-no-cache="true" md-require-match="false" md-floating-label="Collection"><md-item-template><span>{{::item}}</span></md-item-template></md-autocomplete><md-input-container class="md-block flex bm0 tm0"><label>Description</label> <input ng-model="vm.file.description"></md-input-container><div ng-show="!vm.edit"><pip-file-select pip-change="vm.setFile" pip-local-file="vm.localFile"></pip-file-select></div></div><div class="pip-footer" ng-if="!vm.globalProgress()"><div><md-button class="md-accent" ng-click="vm.onCancel()">Cancel</md-button><md-button class="md-accent" ng-click="vm.onOk()">Upload</md-button></div></div><pip-file-progress ng-if="vm.globalProgress()" pip-cancel="vm.cancel" pip-retry="vm.retry" pip-name="vm.localFile.name"></pip-file-progress></md-dialog>')}])}(),function(t){try{t=angular.module("pipAdminContent.Templates")}catch(e){t=angular.module("pipAdminContent.Templates",[])}t.run(["$templateCache",function(e){e.put("files/FilesPage.html","<pip-files-panel></pip-files-panel>")}])}(),function(t){try{t=angular.module("pipAdminContent.Templates")}catch(e){t=angular.module("pipAdminContent.Templates",[])}t.run(["$templateCache",function(e){e.put("files/FilesPanel.html",'<div class="pip-main-menu pip-files" ng-class="{\'pip-single-content\': $ctrl.details}" ng-if="$ctrl.pipMedia(\'gt-sm\')"><div class="pip-menu"><div class="pip-list-container pip-scroll"><md-list class="pip-simple-list tp0" pip-selected="$ctrl.selectIndex" pip-select="$ctrl.selectItem($event.index)"><md-list-item class="pip-simple-list-item pip-selectable {{ $ctrl.selectIndex == $index ? \'selected\' : \'\' }}" md-ink-ripple="" ng-repeat="section in $ctrl.filesSections"><p class="pip-title text-body2">{{ section || \'Undefined\' }}</p></md-list-item></md-list></div></div><div class="pip-content-container"><div class="layout-column"><pip-document class="pip-scroll"><div class="pip-filter-row layout-row layout-align-start-center pip-search-panel rp0 lp0 pip-filter-search-row flex"><pip-search-row pip-search="$ctrl.search" pip-on-search="$ctrl.onSearch()" xxxng-disabled="$ctrl.transaction.busy()"></pip-search-row></div><div class="pip-body p0"><div class="pip-menu" style="width: 100% !important;" ng-if="$ctrl.state == \'data\'"><div class="pip-list-container pip-scroll"><md-list class="pip-ref-list tp0"><md-list-item class="pip-ref-list-item divider-bottom" md-ink-ripple="" ng-repeat="file in $ctrl.files[$ctrl.selectIndex].Items" ng-click="$mdOpenMenu()"><div class="pip-pic tm0 rm0" ng-if="file.content_type == \'json\' || file.content_type == \'jpeg\' || file.content_type == \'xls\' || file.content_type == \'xml\' || file.content_type == \'pdf\' || file.content_type == \'doc\'"><md-icon md-svg-icon="bootbarn-icons:file-format-{{file.content_type}}"></md-icon></div><div class="pip-pic tm0 rm0" ng-if="file.content_type != \'json\' && file.content_type != \'jpeg\' && file.content_type != \'xls\' && file.content_type != \'pdf\' && file.content_type != \'xml\' && file.content_type != \'doc\'"><md-icon md-svg-icon="bootbarn-icons:file-format-custom"></md-icon></div><div class="pip-content flex"><div class="text-body2 text-overflow">{{file.name}}</div><p class="pip-subtitle">{{file.description}}</p></div><div class="pip-pic rm0 tm0"><md-menu><md-button class="md-icon-button" ng-click="$mdOpenMenu()" aria-label="xxx"><md-icon md-menu-origin="" md-svg-icon="icons:vdots"></md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="$ctrl.download(file)" aria-label="xxx">Download</md-button></md-menu-item><md-menu-item><md-button ng-click="$ctrl.updateFile(file)" aria-label="xxx">Update</md-button></md-menu-item><md-menu-item ng-click="$ctrl.openDeleteDialog(file, $ctrl.selectIndex)"><md-button aria-label="xxx">Delete</md-button></md-menu-item></md-menu-content></md-menu></div></md-list-item></md-list></div></div></div><div class="layout-column layout-align-center-center flex pip-empty pip-scroll" ng-if="$ctrl.state == \'progress\' || $ctrl.state == \'empty\'"><div class="pip-empty" ng-if="$ctrl.state == \'empty\'"><img src="images/EmptyState.svg" class="pip-pic"><div class="pip-text">There are no events right now…<br>Try again later or change filter options</div></div><div class="pip-empty" ng-if="$ctrl.state == \'progress\'"><img src="images/LoadingState.svg" class="pip-pic"><div class="pip-text">Loading Files<md-progress-linear md-mode="indeterminate" class="tm24"></md-progress-linear></div></div></div></pip-document></div></div></div><md-button class="md-fab md-accent md-fab-bottom-right" style="z-index: 55" ng-if="$ctrl.state != \'progress\'" ng-disabled="$ctrl.transaction.busy()" aria-label="add" ng-click="$ctrl.addFile()"><md-icon md-svg-icon="icons:plus"></md-icon></md-button><pip-dropdown pip-actions="$ctrl.filesSections" pip-active-index="$ctrl.selectIndex" pip-change="$ctrl.getSelectDropdown()" ng-if="($ctrl.pipMedia(\'xs\') || $ctrl.pipMedia(\'sm\')) && $ctrl.state == \'data\'"></pip-dropdown><div class="pip-main-menu pip-files" ng-if="($ctrl.pipMedia(\'xs\') || $ctrl.pipMedia(\'sm\')) && $ctrl.state == \'data\'"><div class="pip-filter-row layout-row layout-align-start-center pip-search-panel rp0 lp0 pip-filter-search-row flex"><pip-search-row pip-search="$ctrl.search" pip-on-search="$ctrl.onSearch()" xxxng-disabled="$ctrl.transaction.busy()"></pip-search-row></div><pip-simple class="pip-scroll"><div class="pip-menu" style="width: 100% !important;"><div class="pip-list-container pip-scroll"><md-list class="pip-ref-list tp0"><md-list-item class="pip-ref-list-item divider-bottom" md-ink-ripple="" ng-repeat="file in $ctrl.files[$ctrl.selectIndex].Items"><div class="pip-pic tm0 rm0" ng-if="file.content_type == \'json\' || file.content_type == \'jpeg\' || file.content_type == \'pdf\' || file.content_type == \'xls\' || file.content_type == \'xml\' || file.content_type == \'doc\'"><md-icon md-svg-icon="bootbarn-icons:file-format-{{file.content_type}}"></md-icon></div><div class="pip-pic rm0" ng-if="file.content_type != \'json\' && file.content_type != \'jpeg\' && file.content_type != \'xls\' && file.content_type != \'xml\' && file.content_type != \'pdf\' && file.content_type != \'doc\'"><md-icon md-svg-icon="bootbarn-icons:file-format-custom"></md-icon></div><div class="pip-content flex"><div class="text-body2 text-overflow">{{file.name}}</div><p class="pip-subtitle">{{file.Description}}</p></div><div class="pip-pic rm0"><md-menu><md-button class="md-icon-button" ng-click="$mdOpenMenu()" aria-label="xxx"><md-icon md-menu-origin="" md-svg-icon="icons:vdots"></md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="$ctrl.download(file)" aria-label="xxx">Download</md-button></md-menu-item><md-menu-item><md-button ng-click="$ctrl.updateFile(file)" aria-label="xxx">Update</md-button></md-menu-item><md-menu-item ng-click="$ctrl.openDeleteDialog(file, $ctrl.selectIndex)"><md-button aria-label="xxx">Delete</md-button></md-menu-item></md-menu-content></md-menu></div></md-list-item></md-list></div></div></pip-simple></div><div class="layout-column layout-align-center-center flex pip-empty pip-scroll" ng-if="($ctrl.state == \'progress\' || $ctrl.state == \'empty\') && !$ctrl.pipMedia(\'gt-sm\')"><div class="pip-empty" ng-if="$ctrl.state == \'empty\'"><img src="images/EmptyState.svg" class="pip-pic"><div class="pip-text">There are no events right now…<br>Try again later or change filter options</div></div><div class="pip-empty" ng-if="$ctrl.state == \'progress\'"><img src="images/LoadingState.svg" class="pip-pic"><div class="pip-text">Loading files<md-progress-linear md-mode="indeterminate" class="tm24"></md-progress-linear></div></div></div><md-progress-linear md-mode="indeterminate" style="position: absolute; z-index: 100" ng-show="$ctrl.transaction.busy() && $ctrl.state != \'progress\'"></md-progress-linear>')}])}(),function(t){try{t=angular.module("pipAdminContent.Templates")}catch(e){t=angular.module("pipAdminContent.Templates",[])}t.run(["$templateCache",function(e){e.put("common/search/SearchRow.html",'<div class="pip-search layout-row layout-align-start-center flex"><md-button class="md-icon-button pip-search-button flex-fixed" ng-click="searchRow.onSearch()" ng-disabled="searchRow.isDisable()" aria-label="search"><md-icon md-svg-icon="icons:search"></md-icon></md-button><md-input-container md-no-float="" class="md-block tm8 bm8" ng-disabled="searchRow.isDisable()"><input ng-model="searchRow.localSearch" placeholder="Search..." ng-keypress="searchRow.onKeyPress($event)" ng-change="searchRow.onSearch()"></md-input-container><md-button class="md-icon-button flex-fixed pip-search-clear-button" ng-if="searchRow.localSearch != \'\' && searchRow.localSearch" ng-click="searchRow.onClear()" n="" ng-disabled="searchRow.isDisable()" aria-label="search"><md-icon md-svg-icon="icons:delete"></md-icon></md-button></div>')}])}()},{}]},{},[20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])(20)});
//# sourceMappingURL=pip-admin-content.min.js.map
